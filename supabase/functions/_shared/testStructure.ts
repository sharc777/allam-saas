/**
 * Ù†Ø³Ø®Ø© Deno Ù…Ù† Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
 * ÙŠØ³ØªØ®Ø¯Ù… ÙÙŠ Edge Functions Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
 */

export interface TestSection {
  id: string;
  nameAr: string;
  icon: string;
  topics: string[];
}

export interface TestConfig {
  nameAr: string;
  sections: TestSection[];
}

export const TEST_STRUCTURE: Record<string, TestConfig> = {
  "Ù‚Ø¯Ø±Ø§Øª": {
    nameAr: "Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©",
    sections: [
      {
        id: "ÙƒÙ…ÙŠ",
        nameAr: "Ø§Ù„ÙƒÙ…ÙŠ",
        icon: "ğŸ”¢",
        topics: [
          "Ø§Ù„Ø¬Ø¨Ø±",
          "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©",
          "Ø§Ù„Ø¥Ø­ØµØ§Ø¡",
          "Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯",
          "Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„ØªÙ†Ø§Ø³Ø¨",
          "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª",
          "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©",
          "Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ§Øª",
          "Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª",
          "Ø§Ù„Ù‚ÙŠØ§Ø³",
        ],
      },
      {
        id: "Ù„ÙØ¸ÙŠ",
        nameAr: "Ø§Ù„Ù„ÙØ¸ÙŠ",
        icon: "ğŸ“",
        topics: [
          "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨",
          "Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª",
          "Ø§Ù„ØªÙ†Ø§Ø¸Ø± Ø§Ù„Ù„ÙØ¸ÙŠ",
          "Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¬Ù…Ù„",
          "Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ",
          "Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· ÙˆØ§Ù„Ø§Ø®ØªÙ„Ø§Ù",
          "Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø¯ÙŠ",
          "Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬",
        ],
      },
    ],
  },
  "ØªØ­ØµÙŠÙ„ÙŠ": {
    nameAr: "Ø§Ù„ØªØ­ØµÙŠÙ„ÙŠ",
    sections: [
      {
        id: "Ø±ÙŠØ§Ø¶ÙŠØ§Øª",
        nameAr: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª",
        icon: "â—",
        topics: [
          "Ø§Ù„ØªÙØ§Ø¶Ù„ ÙˆØ§Ù„ØªÙƒØ§Ù…Ù„",
          "Ø§Ù„Ø¬Ø¨Ø±",
          "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©",
          "Ø§Ù„Ù…ØªØ¬Ù‡Ø§Øª",
          "Ø§Ù„Ù…ØµÙÙˆÙØ§Øª",
          "Ø§Ù„Ø¯ÙˆØ§Ù„",
          "Ø§Ù„Ù…ØªØªØ§Ø¨Ø¹Ø§Øª ÙˆØ§Ù„Ù…ØªØ³Ù„Ø³Ù„Ø§Øª",
          "Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¡",
          "Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø±ÙƒØ¨Ø©",
          "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„ØªÙØ§Ø¶Ù„ÙŠØ©",
        ],
      },
      {
        id: "ÙÙŠØ²ÙŠØ§Ø¡",
        nameAr: "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡",
        icon: "âš¡",
        topics: [
          "Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§",
          "Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù‚ÙˆØ©",
          "Ø§Ù„Ø·Ø§Ù‚Ø©",
          "Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ ÙˆØ§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØ©",
          "Ø§Ù„Ø¶ÙˆØ¡ ÙˆØ§Ù„Ø¨ØµØ±ÙŠØ§Øª",
          "Ø§Ù„Ù…ÙˆØ¬Ø§Øª",
          "Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒØ§ Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©",
          "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ø­Ø¯ÙŠØ«Ø©",
          "Ø§Ù„ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØ©",
          "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ù†ÙˆÙˆÙŠØ©",
        ],
      },
      {
        id: "ÙƒÙŠÙ…ÙŠØ§Ø¡",
        nameAr: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡",
        icon: "ğŸ§ª",
        topics: [
          "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©",
          "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ ØºÙŠØ± Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©",
          "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©",
          "Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©",
          "Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©",
          "Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©",
          "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©",
          "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©",
          "Ø§Ù„Ø­Ù…ÙˆØ¶ ÙˆØ§Ù„Ù‚ÙˆØ§Ø¹Ø¯",
          "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©",
        ],
      },
      {
        id: "Ø£Ø­ÙŠØ§Ø¡",
        nameAr: "Ø§Ù„Ø£Ø­ÙŠØ§Ø¡",
        icon: "ğŸ§¬",
        topics: [
          "Ø§Ù„Ø®Ù„ÙŠØ©",
          "Ø§Ù„ÙˆØ±Ø§Ø«Ø©",
          "Ø§Ù„ØªØ·ÙˆØ±",
          "Ø§Ù„ØªÙ†ÙˆØ¹ Ø§Ù„Ø­ÙŠÙˆÙŠ",
          "Ø¹Ù„Ù… Ø§Ù„Ø¨ÙŠØ¦Ø©",
          "Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø­ÙŠÙˆÙŠØ©",
          "Ø¹Ù„Ù… Ø§Ù„Ø£Ù†Ø³Ø¬Ø©",
          "Ø¹Ù„Ù… Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©",
          "Ø§Ù„ØªØ´Ø±ÙŠØ­",
          "Ø§Ù„ÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§",
        ],
      },
    ],
  },
};

export function getSections(testType: string): TestSection[] {
  return TEST_STRUCTURE[testType]?.sections || [];
}

export function getTopics(testType: string, section: string): string[] {
  const sections = TEST_STRUCTURE[testType]?.sections || [];
  return sections.find((s) => s.id === section)?.topics || [];
}

export function getAllTopics(testType: string): string[] {
  const sections = TEST_STRUCTURE[testType]?.sections || [];
  return sections.flatMap((s) => s.topics);
}

export function validateSectionAndTopic(
  testType: string,
  section: string,
  topic: string
): boolean {
  const topics = getTopics(testType, section);
  return topics.includes(topic);
}
